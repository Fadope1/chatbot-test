"""Functions and logic for the endpoints"""